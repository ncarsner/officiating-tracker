{% extends 'base.html' %} {% block title %}Game List{% endblock %}
{% block content %}
<h2>Game List</h2>
    <!-- this links to the game list view -->
    <form method="post" action="{% url 'game_list' %}" class="space-y-4">
      {% csrf_token %}
      {{ form.as_p }}
      <button name="save">Save</button>
    </form>

<table class="table-auto">
  <tr>
    <th>Date</th>
    <th>Site</th>
    <th>League</th>
    <th>Position</th>
    <th>Fee Paid</th>
    <th>Mileage</th>
    <th>Mileage Paid</th>
  </tr>

  {% for game in games %}
  <tr class="game-details">
    <td>{{ game.date }}</td>
    <td>{{ game.site.name }}</td>
    <td>{{ game.league.organization }}</td>
    <td>{{ game.position }}</td>
    <td class="text-center">
      {% if game.fee_paid %}
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-black-400 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="width: 16px; height: 16px;">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
      </svg>
      {% else %}
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-400 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="width: 16px; height: 16px;"></svg>
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
      {% endif %}
    </td>
    <td>{% if game.mileage > 0 %}{{ game.mileage }}{% endif %}</td>
    <!-- <td><input type="checkbox" disabled {% if game.mileage_paid %}checked{% endif %}></td> -->
    <td class="text-center">
      {% if game.mileage_paid %}
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-black-400 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="width: 16px; height: 16px;">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
      </svg>
      {% else %}
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-400 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="width: 16px; height: 16px;"></svg>
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
      {% endif %}
    </td>
    <td><a href="{% url 'edit_game' game.id %}" class="btn-edit">Edit</a></td>
    <td>
      <form method="post" action="{% url 'delete_game' game.id %}" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this item?');">
        {% csrf_token %}
        <button type="submit" class="btn-delete">Delete</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>
{% endblock %}
