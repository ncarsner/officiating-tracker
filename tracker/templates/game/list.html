{% extends 'base.html' %} {% block title %}Game List{% endblock %}
{% block content %}
<h2>Game List</h2>
    <!-- this links to the game list view -->
    <form method="post" action="{% url 'game_list' %}" class="space-y-4">
      {% csrf_token %}
{{ form.as_p }}
      <button name="save">Save</button>
    </form>

<table class="table-auto">
  <tr>
    <th>Date</th>
    <th>Site</th>
    <th>League</th>
    <th>Position</th>
    <th>Fee Paid</th>
    <th>Volunteer</th>
    <th>Mileage</th>
    <th>Mileage Paid</th>
  </tr>
  <tr>


  </tr>
  {% for game in games %}
  <tr class="game-details">
    <td>{{ game.date }}</td>
    <td>{{ game.site.name }}</td>
    <td>{{ game.league.organization }}</td>
    <td>{{ game.position }}</td>
    <td>{{ game.fee_paid }}</td>
    <td>{{ game.is_volunteer }}</td>
    <td>{{ game.mileage }}</td>
    <td>{{ game.mileage_paid }}</td>
    <td>

      <form method="get" action="{% url 'edit_game' game.id %}" style="display:inline;">
        {% csrf_token %}
        <button type="submit" class="btn-edit">Edit</button>
      </form>
<form method="post" action="{% url 'delete_game' game.id %}" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this item?');">
        {% csrf_token %}
  <button type="submit" class="btn-delete">Delete</button>
</form>
    </td>
  </tr>
  {% endfor %}
</table>
{% endblock %}
